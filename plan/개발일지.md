# 개발일지

## 1207

> 개발 시작한지 3일만에 개발일지 써야한다는 것을 생각해낸 나란 새끼 레전드...... 제발 회고할 생각이면 일지작성합시다ㅠㅠ

1205) 기획회의와 도메인구매 시도 제발 사고싶습니다 (이거 왜이리 불안하냐)

1206) 데이터 베이스 구조화시킬 erd 구상 그리고 작성, 이 타이밍을 노리는 타 사이트들이 있는 듯함 거길 참고해서 api제공 이전에 어떻게 전적을 가져오는 지 참고해서 전적 어떻게 구상할지 생각함

today) 생각보다 작성에 의외로 시간을 많이 소비함. json 디코드 상황에서 코드가 맞지 않아 한글이 깨지는 상황이 발생함 JsonResponse에 효과를 주어서 해결

```python
JsonResponse({'output':output},safe=False,json_dumps_params={'ensure_ascii': False})
```

이 회사 상상 이상으로 더 데이터 개같이 던진다..... html 덩어리 자체를 던져줄 줄이야.... 이거 파싱할 생각하니 좀 아찔하다 내일 시간있으면 뷰티플 수프 기억 되살리면서 파싱해서 내 사이트에 맞게 좀 적용시킬 생각을 해야할듯

아 근데 이거 api제공하면 또 상황 이상해질 거 같은데..... 그건 그때가서 생각합시다.....

아마 내일은 파싱이랑 구조화 좀 대충 시키고 데이터베이스에 데이터 넣는거 생각할 듯

## 1209

1208) 쉬었음 ㅎㅎ

today) beautifulsoup를 이용해 파싱하고 데이터 정렬함. api제공하면 데이터 구조 당연히 바꾸겠지?

## 1210

일단 캐릭터, 캐릭터스킬, 사용 무기, 무기 카테고리 는 데이터베이스 구축

데이터 삽입한 것은 무기 카테고리뿐 내일 아침에 캐릭터, 캐릭터스킬, 모드별 증폭, 사용 무기 테이블 구성할 듯

## 1211

데이터 삽입 후 확인 과정만 함

내일 좀 바쁠듯 일욜에 해야할 것까지 좀 미리해둬야하고 오늘 했어야하는 것도 좀 해야하니

여기에 추가된 파이썬 파일은 크롤링 코드

## 1212

아이템 넣는게 생각보다 많기도 하고 데이터가 제대로 정리가 안되어있어서 좀 걸리는 듯 하다 좀 빡친다 정리좀 제대로 해주지

최대한 일단 txt파일로 정리해서 배포시에는 편하게 데이터 업로드시킬려고 하는데 장탄수는 django 슈퍼계정으로 수정하자..... 이건 안되겠어

게임 오브젝트 거의 다 구성 동물에서 파밍되는 아이템만 정리하면 끝

생각보다 좀 느려지고 있다 월화에 좀 많이 해둬야 할 듯

## 1213

오늘 작업 생각없었는데 위기감이 생겨서 술마시다 깨고 작업했음

생각보다 오래한 느낌 일단 전적 조회쪽 디자인이랑 기능적인 면은 거의 생각한 구성으로 구현한 듯

아이템이랑 캐릭터 클릭시 상세 정보 조회로 넘어가는거 해야할 듯

이거 구현한 뒤에 일단 배포를 하고 그 다음날 도메인구매한 다음에 도메인박고 여기저기 홍보는 해봐야할듯

생각보다 은근히 많이들 도전하는듯

## 1214

새 기능 넣다가 빡대가리 인증 요청 보낼 때 django는 꼭 주소 형태를 똑같이 마지막 `/` 마저도!

firebase storage는 쓰는 것이 어렵지 않다 단순히 이미지만 불러오는 용도는 정말 편하다

추후 이 기능으로 뱃지같은거 만들어도 될 거 같다 아니면 개인 프로필이라던가

```javascript
var storage = firebase.storage().ref(`파이어베이스 스토리지에서 원하는 파일 경로`)
storage.getDownloadURL().then(url => {'url로 지정할 것' = url})
```

캐릭터 상세정보까지 대충 디자인이랑 기능 구현

다음 아이템 상세 정보할 듯

> ### 배포할때 참고한 주소들
>
> [root권한](https://mytory.net/archives/27)
>
> [python에 sqlite3가 없다고 할 때](https://github.com/sloria/TextBlob/issues/173)
>
> [파이썬 설치](https://3months.tistory.com/497)
>
> [노드 버전 업데이트](https://velopert.com/1351)
>
> [nginx 배포 기초](https://daily-life-of-bsh.tistory.com/223)
>
> [nginx 관련](https://medium.com/@taeyeolkim/aws-ec2%EC%97%90-%EC%9B%B9%EC%84%9C%EB%B2%84-nginx-%EC%84%A4%EC%B9%98%ED%95%98%EA%B3%A0-%EA%B5%AC%EB%8F%99%ED%95%98%EA%B8%B0-a46a6e9484a8)
>
> 멍청하게 데이터베이스 안넣고 왜 안되냐고 지랄하고 있었다 보안도 중요
>
> [aws ec2 포트번호](https://velog.io/@dojun527/AWS-EC2-Django-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B0)
>
> [gunicorn](https://wikidocs.net/6601)
>
> [gunicorn2](https://velog.io/@y1andyu/Nginx-gunicorn-Django-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B0)
>
> [gunicorn3 이게 제일 도움됨](https://ahzick.tistory.com/entry/Django-Vue-AWS-%EC%84%9C%EB%B2%84-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B01WSGI-AWS)
>
> [리눅스 알면 편한 명령어](https://www.manualfactory.net/10805)
>
> /home/ubuntu/bsgg/back

데이터 베이스 10th 안채운거 부터 다시하면 됨

## 1215

도메인 바꿨음

> 참고 사이트
>
> [가비아 적용](https://hannut91.github.io/blogs/route53/gabia)
>
> [탄력적 ip](https://artiiicy.tistory.com/17)

도메인 바꾸고 깨달은 것 다른 도메인이 다른 도메인에게 api요청 보내면 뭔가 해결해야하는 방안이 따로 필요한가 보다. 아니면 한글 도메인의 특징이라서 주소를 제대로 해줬어야 하거나 둘 중 하나일듯

zeplin이라는 갓 툴을 알게됨 이걸로 현업에서도 꽤 하게 될 듯

오늘은 이만 쉬자 내일 다시 달리면 그만임

## 1216

일단 zeplin이 시키는대로 하면 정말 그 상황을 구현만 가능하다는 것을 깨달음 의외로 문제가 있는 툴인거 같기도 한데 이정도로도 감을 잡는데는 큰 도움이 되니 매우 엄청난 툴인듯 하다

잠깐 일정을 좀 촉박하게 잡아야할 거 같다 새 디자인에 생각보다 시간을 많이 쓰는 거 같음

내일부터는 아이템 조회 구현하는데 신경 쓰고 그다음 피오라랑 리다이린 데이터 손 보자 뭐가 문제지....

놀라운 것 emit으로도 데이터 전송이 가능하다

```javascript
this.$emit('clickshow',this.recent_match[n])
```

## 1217

데이터를 text형태로 json을 저장할때 주의점 `\n` 넣으면 에러난다 수정해야함

## 1218

뭔가 많이 함

self component 이용법

```vue
components: {
    'Fusion': this,
  },
```

오늘부터 노션이랑 제플린 만져보기 시작 적극적으로 만지면서 익숙해져보자

component를 부를때는 왠만하면 키값을 주자 단, 중복이 되지 않도록 정말 고심하자 중복이 되면 성능이 매우 구려진다

> [vue 키값 관련](https://michaelnthiessen.com/force-re-render/)
>
> force rerender, forceUpdate key값 관련

## 1219

중요한 일전에 하위템갔다 다시 상위템 갈 때 툴팁이 남아있는 버그 수정

## 1220

디자인 조금 수정

## 1221

할거: https, 패치적용, 디자인다시, 공략글

패치 적용 완료

> https 적용
>
> [일단 참고 할만한 것 하지만 certbot permission에러 가능성이 존재](https://swiftcoding.org/nginx-lets-encrypt#webroot)
>
> [짧고 간결하게 가장 큰 도움이 된 것](https://mungto.tistory.com/335)
>
> [걍 본거](https://yuda.dev/206)
>
> [읽고 안쓴거 사실상 두번째 거랑 큰 차이 없음](https://medium.com/@devAsterisk/certbot%EC%9D%84-%ED%86%B5%ED%95%9C-%EB%AC%B4%EB%A3%8C%EC%9D%B8%EC%A6%9D%EC%84%9C-%EC%83%9D%EC%84%B1-707f86b642d1)
>
> 그리고 aws에서 443포트를 열어줘야만 한다 그리고 무료로 이용하는거니 두달에 한번 꼭 갱신할 것
>
> 백엔드랑 프론트가 hostname이 다르면 서로 통신 불가
>
> [https -> http를 호출 하는것은 보안상 브라우저가 막는다 그러니 귀찮아도 포트 8000으로 하지 말고 nginx에 걸어줘야한다](https://ahzick.tistory.com/entry/Django-Vue-AWS-%EC%84%9C%EB%B2%84-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B02WSGI-AWS?category=863609)

## 1222

할것: 메뉴바 연장, 메뉴 버튼 그림자 조절, 동물 아이템드랍 정리

메뉴바 연장: 임시로 해봄

그림자 조절: 완료

동물 관련 완료

피드백: 동물 리스폰 지역 지도 완료, 동물 리스폰 시간 완료, 매치 날짜 완료

## 1223

할 것: 점검 전) 메인화면 최대한 맞추기 완료, 뉴스 그라데이션으로 제목 확실하게 보이기 완료, 전적검색 테이블 헤드 색 다르게 완료, 테이블 바디 투명도 증가 완료, 점검 중) 모드+캐릭+무기 증폭 백엔드 모델 수정 (수정만 함 데이터 삽입은 나중에), 패치 내용 적용, 엠마 데이터 추가(일러스트만 추가하면됨) 점검 후) api문서 읽고 적용방안 최대한 빠르게 생각해서 도입, 검색버튼이랑 버튼 

피드백) 뉴스 이미지를 센터로 케로우젤하자(늘리는 것 없이), 뉴스 선택 옆으로 옮기자, 캐로우젤 속도 1초정도 느리게, 텍스트 배경 더 진하게, 텍스트 배경 크기 고정, 위쪽에 루트 아래쪽에 검색

## 1224

할것) api문서 업뎃 유무 확인, 피드백 적용, 어제 할 것에서 안한거

Nuxt.js 고려해보자

## 1228

다시 개발 시작 너무 오래 쉬었다. 오늘 할 거 모드별 증폭 데이터 베이스 다시 정립

증폭과 통계를 위한 테이블 생성 ERD참고

## 1229

캐릭터 무기별 랭크 삽입

chart.js 이용시작

캐릭터 무기별 아이템도 넣어야할듯

## 1231

1230) 하다 때려침

오늘 전적검색 수정이랑 캐릭터 무기 선택 비율 해야함

전적검색 완료.... 아 진짜.... 무기 선택 비율까지 마무리하고 배포할 생각 하자

## 21.0101

무기 통계 작업중, 방어구 통계 모델 수정

cs 50이 죽어서 데이트 베이스 업뎃을 못함 오늘 작업 여기서 마무리해야할듯

## 21.0102

제발 시발 잘 때 버그 해결법 생각난거 같다고 다시 컴퓨터 앞에 앉지 말자

이거때문에 밤 홀딱 지나갔다.... 오늘 걍 새야지 시바...

chart.js랑 부트스트랩 d-flex랑 만나면 뭔가 작동이 이상해진다 뭔지 정확히 모르겠음